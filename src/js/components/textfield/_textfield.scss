/**
 * Bordered textfields
 * Modified from: http://codepen.io/prajwal078/pen/LVJZXz?editors=010
 */

// Can not use variable for @import path, see: https://github.com/sass/sass/issues/739
// Import evrything in main.scss :-(
//@import "material-design-lite/src/variables";
//@import "material-design-lite/src/textfield/textfield";

$mdlext-bordered-field-border-radius: 3px !default;
$mdlext-bordered-field-border-width: 1px !default;
$mdlext-bordered-field-background-color: rgba(#ffffff, 0.1) !default;
$mdlext-bordered-field-height: 48px !default;
$mdlext-bordered-field-padding: $input-text-padding + 4px !default;
$mdlext-bordered-field-padding-top: 20px !default;
$mdlext-bordered-field-padding-bottom: 0 !default;
$mdlext-bordered-field-focus-border-color: #458ebd !default;
$mdlext-bordered-field-focus-background-color: rgba(#d9e8f1, 0.2) !default;
$mdlext-bordered-field-disabled-border-color: rgba(#c6ccd1, 1) !default;
$mdlext-bordered-field-disabled-background-color: rgba(228, 236, 243, 0.25) !default;
$mdlext-bordered-field-required-border-color: rgba(#e59617, 1) !default;
$mdlext-bordered-field-required-background-color: rgba(#f9ead0, 0.1) !default;

$mdlext-bordered-field-label-top: 35px !default;
$mdlext-bordered-field-label-focused-top: 20px !default;

$mdlext-bordered-field-icon-font-size: 1.4em !default;
$mdlext-bordered-field-icon-left: 4px !default;


// "Theme" for this styling
.mdlext-bordered-fields {

  // Styling for the input element.
  // Note: This styling also affects mdlext-selectfield! This is a (good or bad?) side effect of using inheritance.
  .mdl-textfield,
  .mdlext-selectfield {

    &.is-dirty {
      .mdl-textfield__input,
      .mdlext-selectfield__select {
        &:required {
          border-color: $input-text-bottom-border-color;
          background-color: $mdlext-bordered-field-required-background-color;
        }
        &:focus,
        &:required:focus {
          border-color: $mdlext-bordered-field-focus-border-color;
          background-color: $mdlext-bordered-field-focus-background-color;
        }
      }
    }
    .mdl-textfield__input,
    .mdlext-selectfield__select {
      background-color: $mdlext-bordered-field-background-color;
      border: $mdlext-bordered-field-border-width solid $input-text-bottom-border-color;
      border-radius: $mdlext-bordered-field-border-radius;
      height: $mdlext-bordered-field-height;
      padding: $mdlext-bordered-field-padding-top $mdlext-bordered-field-padding $mdlext-bordered-field-padding-bottom $mdlext-bordered-field-padding;

      &:disabled {
        color: $input-text-disabled-text-color;
        background-color: $mdlext-bordered-field-disabled-background-color;
        border-color: $mdlext-bordered-field-disabled-border-color;
      }
      &:required {
        background-color: $mdlext-bordered-field-required-background-color;
        border-color: $mdlext-bordered-field-required-border-color;
      }
      &:focus,
      &:required:focus {
        background-color: $mdlext-bordered-field-focus-background-color;
        border-color: $mdlext-bordered-field-focus-border-color;
      }
    }
    .mdlext-selectfield__select {
      padding-left: $input-text-padding;
    }
  }

  // Styling for the label / floating label.
  .mdl-textfield,
  .mdlext-selectfield {

    &.is-focused {
      .mdl-textfield__label,
      .mdlext-selectfield__label {
        top: $mdlext-bordered-field-label-focused-top;
      }
    }
    &.is-dirty {
      .mdl-textfield__label,
      .mdlext-selectfield__label {
        top: $mdlext-bordered-field-label-focused-top;
        visibility: visible;
      }
    }
    .mdl-textfield__label,
    .mdlext-selectfield__label {
      padding-left: $mdlext-bordered-field-padding;
      top: $mdlext-bordered-field-label-top;

      // Hides the colored underline for the TextField.
      &:after {
        background-color: transparent !important;
        visibility: hidden !important;
      }
    }
  }
}


// Icon(s) and/or button(s) inside textfield

.mdl-textfield,
.mdlext-selectfield {
  &.mdlext-field--icon-left,
  &.mdlext-field--icon-right {
    & > i,
    & > .mdl-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }
  }
  &.mdlext-field--icon-left {
    & > i:first-child,
    & > .mdl-button:first-child {
      left: $input-text-padding;
    }
    & > i ~ .mdl-textfield__input,
    & > .mdl-button ~ .mdl-textfield__input,
    & > i ~ .mdlext-selectfield__select,
    & > .mdl-button ~ .mdlext-selectfield__select {
      padding-left: $input-text-button-size;
    }
    & > i ~ .mdl-textfield__label,
    & > .mdl-button ~ .mdl-textfield__label,
    & > i ~ .mdlext-selectfield__label,
    & > .mdl-button ~ .mdlext-selectfield__label {
      left: $input-text-button-size - $input-text-padding;
    }
  }
  &.mdlext-field--icon-right {
    & > .mdl-textfield__input {
      padding-right: $input-text-button-size;
    }
    & > i:last-child,
    & > .mdl-button:last-child {
      left: auto;
      right: $input-text-padding;
    }
  }
  &.is-disabled i,
  &.is-disabled .mdl-button {
    color: $input-text-disabled-color;
  }
}
